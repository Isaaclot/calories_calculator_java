#### 卡路里计算器

#### 初始版本(祖传代码)
+ 祖传代码在分治： `initial_version`

#### 针对祖传代码的重构思路
+ 添加单元测试：主要是计算calories方法进行测试
+ 抽离jPanel构建方法(main方法中职责太多，多种组件组装及组装的细节都在main函数中，让main函数只进行函数调用)
    + 抽象的构建方法通过传参数进行逻辑处理
    + jPanel的组装会抽离单独的组装对象，main是整个程序的入口，不适合涉及太多的组件组装过程
    + 通过接口分离，将组件生成的功能通过封装接口的方式提供服务
    + 抽离jLabel组件的生成接口方法
+ 消除魔法字符串
    + 根据卡路里计算公司，去将魔法数字抽离成常量，并根据业务名称命名
+ 抽离计算
    + 针对calories计算方进行抽离，用多态替代if-else
    
#### 代码评审标准
+ 是否违法单一职责
    + 类是否包含太多方法，这些方法在这个类中是否合理
    + 方法参数是否过多
+ 是否包含隐性知识
    + 命名是否含义是否明确，清晰
    + 是否出现太多注释？
    + 是否有废弃代码没删除？
+ 是否违反里氏替换原则
    + 继承层次有 多少层？
    + 子类是否继承类超类太多的非private方法/属性
+ 是否分离关注点
+ 调用方是否对具体实现类型进行判断？
    + 违反里氏替换原则：如果调用方对被调用对像的类型进行判断，在决定是否调用或者如何调用来实现 一个类，违反了里氏替换原则
    + 违反依赖导致原则(由于调用方(下层)进行了判断，上层才能根据判断传参处理，上层模版对下层模版产生依赖，对细节依赖严重)
+ 参考链接(谷歌开发者代码审查指南)[https://jimmysong.io/eng-practices/docs/review/]

#### 重构
##### 重构理念
+ 重构而非重写----> 小步快走
+ 不改变外在行为----> 单元测试
+ 随时开始随时结束----> 随时可用(TDD推荐有一个小改动 ，执行一下单元测试，确保可运行)

##### 步骤
+ UI元素解藕
+ 代码可测试
+ 加上单元测试
+ 隔离变化
+ 消除隐性知识